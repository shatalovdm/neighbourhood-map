"use strict";function getMapData(){var e=[{featureType:"all",elementType:"geometry.fill",stylers:[{weight:"2.00"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{color:"#9c9c9c"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#eeeeee"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#7b7b7b"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c8d7d4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#070707"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]}];geocoder=new google.maps.Geocoder;var r=restaurantsViewModel.zipSearch();geocoder.geocode({address:r+"+usa"},function(r,t){t==google.maps.GeocoderStatus.OK?(map=new google.maps.Map(document.getElementById("map"),{center:r[0].geometry.location,styles:e,scrollwheel:!1,zoom:15}),getOpenTableData()):alert("Geocode was not successful for the following reason: "+t)})}function populateMap(e){var r=new google.maps.LatLngBounds;markers&&removeMarkers(),isHighlighted=!1;for(var t=0;t<e.length;t++)!function(){var o=e[t],a={lat:o.lat,lng:o.lng};o.marker=new google.maps.Marker({position:a,map:map,title:o.name}),markers.push(o.marker),o.marker.addListener("click",function(){displayMarker(o)}),r.extend(o.marker.position)}();map.panToBounds(r)}function displayMarker(e){isHighlighted&&revertMarker(previousMarker,previousInfoWindow),e.infowindow=new google.maps.InfoWindow,previousInfoWindow=e.infowindow,previousMarker=e.marker,highlightMarker(e.marker),populateInfoWindow(e.marker,e)}function hideMarkers(e){for(var r,t=0;t<restaurantsViewModel.restaurants().length;t++)r=restaurantsViewModel.restaurants()[t],e.includes(r)?r.marker.setVisible(!0):(revertMarker(r.marker,r.infowindow),r.marker.setVisible(!1))}function populateInfoWindow(e,r){r.infowindow.marker!=e&&(r.infowindow.marker=e,r.infowindow.setContent("<div>"+e.title+"</div><div>"+r.address+'</div><div style="margin-top:5px"><a class="btn btn-primary" href="'+r.link+'" role="button">Reserve </a></div>'),r.infowindow.open(map,e),r.infowindow.addListener("closeclick",function(){revertMarker(e,r.infowindow)}),google.maps.event.addListener(map,"click",function(t){revertMarker(e,r.infowindow)}))}function highlightMarker(e){isHighlighted=!0;var r={url:"img/marker.png",origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(50,50)};e.setIcon(r)}function revertMarker(e,r){isHighlighted=!1,e.setIcon(),r.close()}function removeMarkers(){for(var e=0;e<markers.length;e++)markers[e].setMap(null);markers.length=0}function googleError(){document.getElementById("map").innerHTML=" Could not load Google Maps. Try again later."}var map,geocoder,markers=[],isHighlighted=!1,previousMarker,previousInfoWindow;